<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Color Palette PWA</title>
    <style>
        :root { --bg: #f4f4f9; --txt: #333; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--txt); display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .card { background: white; padding: 2rem; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; width: 100%; max-width: 500px; }
        input[type="color"] { border: none; width: 80px; height: 80px; cursor: pointer; background: none; margin-bottom: 10px; }
        .values { margin: 15px 0; font-family: monospace; }
        .hex-main { font-size: 1.5rem; font-weight: bold; display: block; }
        .rgb-main { color: #888; font-size: 0.9rem; }
        
        .palette { display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-top: 25px; }
        .swatch-container { display: flex; flex-direction: column; align-items: center; gap: 5px; }
        .swatch { width: 100%; aspect-ratio: 1 / 1; border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 0.65rem; color: white; text-shadow: 0px 1px 3px rgba(0,0,0,0.8); font-weight: bold; cursor: pointer; transition: transform 0.2s; }
        .swatch:hover { transform: scale(1.05); }
        .label { font-size: 0.7rem; font-weight: bold; color: #555; text-transform: uppercase; }
        
        button { background: #333; color: white; border: none; padding: 12px 24px; border-radius: 8px; cursor: pointer; margin-top: 20px; font-weight: bold; }
        button:active { transform: scale(0.98); }
    </style>
</head>
<body>

    <div class="card">
        <h2>Color Palette Gen</h2>
        <input type="color" id="colorPicker" value="#F5C211">
        
        <div class="values">
            <span id="hexValue" class="hex-main">#F5C211</span>
            <span id="rgbValue" class="rgb-main">rgb(245, 194, 17)</span>
        </div>

        <div class="palette" id="palette"></div>
        
        <button onclick="copyToClipboard(document.getElementById('hexValue').textContent)">Copiar HEX Principal</button>
    </div>

    <script>
        const picker = document.getElementById('colorPicker');
        const hexTxt = document.getElementById('hexValue');
        const rgbTxt = document.getElementById('rgbValue');
        const paletteContainer = document.getElementById('palette');

        picker.addEventListener('input', updateColors);

        function updateColors() {
            const color = picker.value;
            hexTxt.textContent = color.toUpperCase();
            rgbTxt.textContent = hexToRgb(color);
            generatePalette(color);
        }

        function hexToHsl(hex) {
            let r = parseInt(hex.slice(1, 3), 16) / 255;
            let g = parseInt(hex.slice(3, 5), 16) / 255;
            let b = parseInt(hex.slice(5, 7), 16) / 255;
            let max = Math.max(r, g, b), min = Math.min(r, g, b);
            let h, s, l = (max + min) / 2;
            if (max === min) { h = s = 0; } else {
                let d = max - min;
                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                switch (max) {
                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                    case g: h = (b - r) / d + 2; break;
                    case b: h = (r - g) / d + 4; break;
                }
                h /= 6;
            }
            return { h: h * 360, s: s * 100, l: l * 100 };
        }

        function hslToHex(h, s, l) {
            l /= 100;
            const a = s * Math.min(l, 1 - l) / 100;
            const f = n => {
                const k = (n + h / 30) % 12;
                const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);
                return Math.round(255 * color).toString(16).padStart(2, '0');
            };
            return `#${f(0)}${f(8)}${f(4)}`;
        }

        function generatePalette(hex) {
            paletteContainer.innerHTML = '';
            const hsl = hexToHsl(hex);

            const schemes = [
                { name: 'Base', color: hex },
                { name: 'Compl.', color: hslToHex((hsl.h + 180) % 360, hsl.s, hsl.l) },
                { name: 'Anál. -', color: hslToHex((hsl.h + 330) % 360, hsl.s, hsl.l) },
                { name: 'Anál. +', color: hslToHex((hsl.h + 30) % 360, hsl.s, hsl.l) }
            ];

            schemes.forEach(item => {
                const container = document.createElement('div');
                container.className = 'swatch-container';

                const div = document.createElement('div');
                div.className = 'swatch';
                div.style.backgroundColor = item.color;
                div.textContent = item.color.toUpperCase();
                div.onclick = () => copyToClipboard(item.color);

                const label = document.createElement('span');
                label.className = 'label';
                label.textContent = item.name;

                container.appendChild(div);
                container.appendChild(label);
                paletteContainer.appendChild(container);
            });
        }

        function hexToRgb(hex) {
            const r = parseInt(hex.slice(1, 3), 16);
            const g = parseInt(hex.slice(3, 5), 16);
            const b = parseInt(hex.slice(5, 7), 16);
            return `rgb(${r}, ${g}, ${b})`;
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text.toUpperCase());
            // Feedback visual simple
            const btn = document.querySelector('button');
            const originalText = btn.textContent;
            btn.textContent = '¡Copiado!';
            setTimeout(() => btn.textContent = originalText, 1000);
        }

        updateColors();
    </script>
</body>
</html>
